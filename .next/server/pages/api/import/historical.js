"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/import/historical";
exports.ids = ["pages/api/import/historical"];
exports.modules = {

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/github":
/*!*********************************************!*\
  !*** external "next-auth/providers/github" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/github");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimport%2Fhistorical&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fimport%2Fhistorical.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimport%2Fhistorical&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fimport%2Fhistorical.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_import_historical_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/import/historical.ts */ \"(api)/./pages/api/import/historical.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_import_historical_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_import_historical_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_import_historical_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_import_historical_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/import/historical\",\n        pathname: \"/api/import/historical\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_import_historical_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmltcG9ydCUyRmhpc3RvcmljYWwmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmltcG9ydCUyRmhpc3RvcmljYWwudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDREQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw0REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb290cmF0ZS8/NWZiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2ltcG9ydC9oaXN0b3JpY2FsLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaW1wb3J0L2hpc3RvcmljYWxcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9pbXBvcnQvaGlzdG9yaWNhbFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimport%2Fhistorical&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fimport%2Fhistorical.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/github */ \"next-auth/providers/github\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prisma */ \"(api)/./lib/prisma.ts\");\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_4__.prisma),\n    providers: [\n        next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GITHUB_ID,\n            clientSecret: process.env.GITHUB_SECRET\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default()({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Mot de passe\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_4__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.password) {\n                    return null;\n                }\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_3___default().compare(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    return null;\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    username: user.username\n                };\n            }\n        })\n    ],\n    callbacks: {\n        session: async ({ session, token })=>{\n            if (session?.user) {\n                session.user.id = token.sub;\n            }\n            return session;\n        },\n        jwt: async ({ user, token })=>{\n            if (user) {\n                token.uid = user.id;\n            }\n            return token;\n        }\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3lEO0FBQ0Y7QUFDVTtBQUNwQztBQUNJO0FBRTFCLE1BQU1LLGNBQStCO0lBQzFDQyxTQUFTTix3RUFBYUEsQ0FBQ0ksMkNBQU1BO0lBQzdCRyxXQUFXO1FBQ1ROLGlFQUFjQSxDQUFDO1lBQ2JPLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztZQUMvQkMsY0FBY0gsUUFBUUMsR0FBRyxDQUFDRyxhQUFhO1FBQ3pDO1FBQ0FYLHNFQUFtQkEsQ0FBQztZQUNsQlksTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBZ0JDLE1BQU07Z0JBQVc7WUFDdEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJLENBQUNBLGFBQWFDLFNBQVMsQ0FBQ0QsYUFBYUksVUFBVTtvQkFDakQsT0FBTztnQkFDVDtnQkFFQSxNQUFNRSxPQUFPLE1BQU1qQiwyQ0FBTUEsQ0FBQ2lCLElBQUksQ0FBQ0MsVUFBVSxDQUFDO29CQUN4Q0MsT0FBTzt3QkFDTFAsT0FBT0QsWUFBWUMsS0FBSztvQkFDMUI7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDSyxRQUFRLENBQUNBLEtBQUtGLFFBQVEsRUFBRTtvQkFDM0IsT0FBTztnQkFDVDtnQkFFQSxNQUFNSyxrQkFBa0IsTUFBTXJCLHVEQUFjLENBQzFDWSxZQUFZSSxRQUFRLEVBQ3BCRSxLQUFLRixRQUFRO2dCQUdmLElBQUksQ0FBQ0ssaUJBQWlCO29CQUNwQixPQUFPO2dCQUNUO2dCQUVBLE9BQU87b0JBQ0xFLElBQUlMLEtBQUtLLEVBQUU7b0JBQ1hWLE9BQU9LLEtBQUtMLEtBQUs7b0JBQ2pCRixNQUFNTyxLQUFLUCxJQUFJO29CQUNmYSxVQUFVTixLQUFLTSxRQUFRO2dCQUN6QjtZQUNGO1FBQ0Y7S0FDRDtJQUNEQyxXQUFXO1FBQ1RDLFNBQVMsT0FBTyxFQUFFQSxPQUFPLEVBQUVDLEtBQUssRUFBRTtZQUNoQyxJQUFJRCxTQUFTUixNQUFNO2dCQUNqQlEsUUFBUVIsSUFBSSxDQUFDSyxFQUFFLEdBQUdJLE1BQU1DLEdBQUc7WUFDN0I7WUFDQSxPQUFPRjtRQUNUO1FBQ0FHLEtBQUssT0FBTyxFQUFFWCxJQUFJLEVBQUVTLEtBQUssRUFBRTtZQUN6QixJQUFJVCxNQUFNO2dCQUNSUyxNQUFNRyxHQUFHLEdBQUdaLEtBQUtLLEVBQUU7WUFDckI7WUFDQSxPQUFPSTtRQUNUO0lBQ0Y7SUFDQUQsU0FBUztRQUNQSyxVQUFVO0lBQ1o7SUFDQUMsT0FBTztRQUNMQyxRQUFRO0lBQ1Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vdHJhdGUvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyXCJcbmltcG9ydCBHaXRodWJQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9naXRodWJcIlxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIlxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4vcHJpc21hXCJcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgR2l0aHViUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdJVEhVQl9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQhLFxuICAgIH0pLFxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJlbWFpbFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIk1vdCBkZSBwYXNzZVwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShcbiAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICB1c2VyLnBhc3N3b3JkXG4gICAgICAgIClcblxuICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIHNlc3Npb246IGFzeW5jICh7IHNlc3Npb24sIHRva2VuIH0pID0+IHtcbiAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLnN1YiFcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfSxcbiAgICBqd3Q6IGFzeW5jICh7IHVzZXIsIHRva2VuIH0pID0+IHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVpZCA9IHVzZXIuaWRcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2F1dGgvc2lnbmluJyxcbiAgfSxcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiR2l0aHViUHJvdmlkZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiYmNyeXB0IiwicHJpc21hIiwiYXV0aE9wdGlvbnMiLCJhZGFwdGVyIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR0lUSFVCX0lEIiwiY2xpZW50U2VjcmV0IiwiR0lUSFVCX1NFQ1JFVCIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXNQYXNzd29yZFZhbGlkIiwiY29tcGFyZSIsImlkIiwidXNlcm5hbWUiLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwidG9rZW4iLCJzdWIiLCJqd3QiLCJ1aWQiLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/auth.ts\n");

/***/ }),

/***/ "(api)/./lib/football-api.ts":
/*!*****************************!*\
  !*** ./lib/football-api.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LEAGUES: () => (/* binding */ LEAGUES),\n/* harmony export */   apiSportsService: () => (/* binding */ apiSportsService)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst RAPIDAPI_KEY = process.env.RAPIDAPI_KEY;\nconst RAPIDAPI_HOST = process.env.RAPIDAPI_HOST;\nconst apiSports = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: `https://${RAPIDAPI_HOST}/v3`,\n    headers: {\n        \"X-RapidAPI-Key\": RAPIDAPI_KEY,\n        \"X-RapidAPI-Host\": RAPIDAPI_HOST\n    }\n});\n// Tracking des requÃªtes pour respecter le quota FREE\nlet dailyRequestCount = 0;\nconst MAX_DAILY_REQUESTS = 95 // Garde 5 en sÃ©curitÃ©\n;\n// IDs des compÃ©titions principales\nconst LEAGUES = {\n    PREMIER_LEAGUE: 39,\n    LIGUE_1: 61,\n    BUNDESLIGA: 78,\n    SERIE_A: 135,\n    LA_LIGA: 140,\n    CHAMPIONS_LEAGUE: 2,\n    EUROPA_LEAGUE: 3\n};\nclass APISportsService {\n    async makeRequest(endpoint, params = {}) {\n        if (dailyRequestCount >= MAX_DAILY_REQUESTS) {\n            console.log(`âš ï¸ Quota quotidien atteint (${dailyRequestCount}/${MAX_DAILY_REQUESTS})`);\n            throw new Error(\"Quota quotidien API atteint\");\n        }\n        try {\n            console.log(`ðŸ” API Request ${dailyRequestCount + 1}/${MAX_DAILY_REQUESTS}: ${endpoint}`);\n            const response = await apiSports.get(endpoint, {\n                params\n            });\n            dailyRequestCount++;\n            console.log(`âœ… RequÃªte rÃ©ussie. Quota: ${dailyRequestCount}/${MAX_DAILY_REQUESTS}`);\n            return response.data.response;\n        } catch (error) {\n            console.error(`âŒ Erreur API:`, error.response?.status, error.response?.data);\n            throw error;\n        }\n    }\n    // RÃ©cupÃ©rer matchs finis d'une date\n    async getFinishedMatchesByDate(date) {\n        return this.makeRequest(\"/fixtures\", {\n            date: date,\n            status: \"FT\",\n            league: Object.values(LEAGUES).join(\",\")\n        });\n    }\n    // RÃ©cupÃ©rer matchs d'une compÃ©tition pour une saison\n    async getSeasonMatches(leagueId, season) {\n        return this.makeRequest(\"/fixtures\", {\n            league: leagueId,\n            season: season,\n            status: \"FT\"\n        });\n    }\n    // RÃ©cupÃ©rer matchs d'une compÃ©tition pour un mois spÃ©cifique\n    async getMonthlyMatches(leagueId, season, startDate, endDate) {\n        return this.makeRequest(\"/fixtures\", {\n            league: leagueId,\n            season: season,\n            from: startDate,\n            to: endDate,\n            status: \"FT\"\n        });\n    }\n    // Rechercher matchs par Ã©quipe\n    async searchMatchesByTeam(teamName, limit = 20) {\n        // Pour Ã©conomiser les requÃªtes, on cherche d'abord dans notre base\n        console.log(`ï¿½ï¿½ Recherche \"${teamName}\" (Ã©conomie de quota)`);\n        return [];\n    }\n    // Reset du compteur quotidien (Ã  minuit)\n    resetDailyCount() {\n        dailyRequestCount = 0;\n        console.log(\"\\uD83D\\uDD04 Compteur quotidien remis \\xe0 z\\xe9ro\");\n    }\n    // Statut actuel du quota\n    getQuotaStatus() {\n        return {\n            used: dailyRequestCount,\n            remaining: MAX_DAILY_REQUESTS - dailyRequestCount,\n            total: MAX_DAILY_REQUESTS\n        };\n    }\n}\nconst apiSportsService = new APISportsService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztZQUNMQyxNQUFNekM7WUFDTjBDLFdBQVd6QyxxQkFBcUJEO1lBQ2hDMkMsT0FBTzFDO1FBQ1Q7SUFDRjtBQUNGO0FBRU8sTUFBTTJDLG1CQUFtQixJQUFJbEMsbUJBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vdHJhdGUvLi9saWIvZm9vdGJhbGwtYXBpLnRzP2RkZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuXG5jb25zdCBSQVBJREFQSV9LRVkgPSBwcm9jZXNzLmVudi5SQVBJREFQSV9LRVlcbmNvbnN0IFJBUElEQVBJX0hPU1QgPSBwcm9jZXNzLmVudi5SQVBJREFQSV9IT1NUXG5cbmNvbnN0IGFwaVNwb3J0cyA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IGBodHRwczovLyR7UkFQSURBUElfSE9TVH0vdjNgLFxuICBoZWFkZXJzOiB7XG4gICAgJ1gtUmFwaWRBUEktS2V5JzogUkFQSURBUElfS0VZLFxuICAgICdYLVJhcGlkQVBJLUhvc3QnOiBSQVBJREFQSV9IT1NULFxuICB9LFxufSlcblxuLy8gVHJhY2tpbmcgZGVzIHJlcXXDqnRlcyBwb3VyIHJlc3BlY3RlciBsZSBxdW90YSBGUkVFXG5sZXQgZGFpbHlSZXF1ZXN0Q291bnQgPSAwXG5jb25zdCBNQVhfREFJTFlfUkVRVUVTVFMgPSA5NSAvLyBHYXJkZSA1IGVuIHPDqWN1cml0w6lcblxuZXhwb3J0IGludGVyZmFjZSBBUElTcG9ydHNNYXRjaCB7XG4gIGZpeHR1cmU6IHtcbiAgICBpZDogbnVtYmVyXG4gICAgZGF0ZTogc3RyaW5nXG4gICAgc3RhdHVzOiB7XG4gICAgICBzaG9ydDogc3RyaW5nXG4gICAgfVxuICAgIHZlbnVlPzoge1xuICAgICAgbmFtZTogc3RyaW5nXG4gICAgfVxuICB9XG4gIGxlYWd1ZToge1xuICAgIGlkOiBudW1iZXJcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBsb2dvOiBzdHJpbmdcbiAgfVxuICB0ZWFtczoge1xuICAgIGhvbWU6IHtcbiAgICAgIGlkOiBudW1iZXJcbiAgICAgIG5hbWU6IHN0cmluZ1xuICAgICAgbG9nbzogc3RyaW5nXG4gICAgfVxuICAgIGF3YXk6IHtcbiAgICAgIGlkOiBudW1iZXJcbiAgICAgIG5hbWU6IHN0cmluZ1xuICAgICAgbG9nbzogc3RyaW5nXG4gICAgfVxuICB9XG4gIGdvYWxzOiB7XG4gICAgaG9tZTogbnVtYmVyIHwgbnVsbFxuICAgIGF3YXk6IG51bWJlciB8IG51bGxcbiAgfVxuICBzY29yZToge1xuICAgIGZ1bGx0aW1lOiB7XG4gICAgICBob21lOiBudW1iZXIgfCBudWxsXG4gICAgICBhd2F5OiBudW1iZXIgfCBudWxsXG4gICAgfVxuICB9XG59XG5cbi8vIElEcyBkZXMgY29tcMOpdGl0aW9ucyBwcmluY2lwYWxlc1xuZXhwb3J0IGNvbnN0IExFQUdVRVMgPSB7XG4gIFBSRU1JRVJfTEVBR1VFOiAzOSxcbiAgTElHVUVfMTogNjEsXG4gIEJVTkRFU0xJR0E6IDc4LFxuICBTRVJJRV9BOiAxMzUsXG4gIExBX0xJR0E6IDE0MCxcbiAgQ0hBTVBJT05TX0xFQUdVRTogMixcbiAgRVVST1BBX0xFQUdVRTogM1xufVxuXG5jbGFzcyBBUElTcG9ydHNTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdChlbmRwb2ludDogc3RyaW5nLCBwYXJhbXM6IGFueSA9IHt9KSB7XG4gICAgaWYgKGRhaWx5UmVxdWVzdENvdW50ID49IE1BWF9EQUlMWV9SRVFVRVNUUykge1xuICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBRdW90YSBxdW90aWRpZW4gYXR0ZWludCAoJHtkYWlseVJlcXVlc3RDb3VudH0vJHtNQVhfREFJTFlfUkVRVUVTVFN9KWApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1F1b3RhIHF1b3RpZGllbiBBUEkgYXR0ZWludCcpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEFQSSBSZXF1ZXN0ICR7ZGFpbHlSZXF1ZXN0Q291bnQgKyAxfS8ke01BWF9EQUlMWV9SRVFVRVNUU306ICR7ZW5kcG9pbnR9YClcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpU3BvcnRzLmdldChlbmRwb2ludCwgeyBwYXJhbXMgfSlcbiAgICAgIFxuICAgICAgZGFpbHlSZXF1ZXN0Q291bnQrK1xuICAgICAgY29uc29sZS5sb2coYOKchSBSZXF1w6p0ZSByw6l1c3NpZS4gUXVvdGE6ICR7ZGFpbHlSZXF1ZXN0Q291bnR9LyR7TUFYX0RBSUxZX1JFUVVFU1RTfWApXG4gICAgICBcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLnJlc3BvbnNlXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycmV1ciBBUEk6YCwgZXJyb3IucmVzcG9uc2U/LnN0YXR1cywgZXJyb3IucmVzcG9uc2U/LmRhdGEpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8vIFLDqWN1cMOpcmVyIG1hdGNocyBmaW5pcyBkJ3VuZSBkYXRlXG4gIGFzeW5jIGdldEZpbmlzaGVkTWF0Y2hlc0J5RGF0ZShkYXRlOiBzdHJpbmcpOiBQcm9taXNlPEFQSVNwb3J0c01hdGNoW10+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2ZpeHR1cmVzJywge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIHN0YXR1czogJ0ZUJyxcbiAgICAgIGxlYWd1ZTogT2JqZWN0LnZhbHVlcyhMRUFHVUVTKS5qb2luKCcsJylcbiAgICB9KVxuICB9XG5cbiAgLy8gUsOpY3Vww6lyZXIgbWF0Y2hzIGQndW5lIGNvbXDDqXRpdGlvbiBwb3VyIHVuZSBzYWlzb25cbiAgYXN5bmMgZ2V0U2Vhc29uTWF0Y2hlcyhsZWFndWVJZDogbnVtYmVyLCBzZWFzb246IG51bWJlcik6IFByb21pc2U8QVBJU3BvcnRzTWF0Y2hbXT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KCcvZml4dHVyZXMnLCB7XG4gICAgICBsZWFndWU6IGxlYWd1ZUlkLFxuICAgICAgc2Vhc29uOiBzZWFzb24sXG4gICAgICBzdGF0dXM6ICdGVCdcbiAgICB9KVxuICB9XG5cbiAgLy8gUsOpY3Vww6lyZXIgbWF0Y2hzIGQndW5lIGNvbXDDqXRpdGlvbiBwb3VyIHVuIG1vaXMgc3DDqWNpZmlxdWVcbiAgYXN5bmMgZ2V0TW9udGhseU1hdGNoZXMobGVhZ3VlSWQ6IG51bWJlciwgc2Vhc29uOiBudW1iZXIsIHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBQcm9taXNlPEFQSVNwb3J0c01hdGNoW10+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2ZpeHR1cmVzJywge1xuICAgICAgbGVhZ3VlOiBsZWFndWVJZCxcbiAgICAgIHNlYXNvbjogc2Vhc29uLFxuICAgICAgZnJvbTogc3RhcnREYXRlLFxuICAgICAgdG86IGVuZERhdGUsXG4gICAgICBzdGF0dXM6ICdGVCdcbiAgICB9KVxuICB9XG5cbiAgLy8gUmVjaGVyY2hlciBtYXRjaHMgcGFyIMOpcXVpcGVcbiAgYXN5bmMgc2VhcmNoTWF0Y2hlc0J5VGVhbSh0ZWFtTmFtZTogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gMjApOiBQcm9taXNlPEFQSVNwb3J0c01hdGNoW10+IHtcbiAgICAvLyBQb3VyIMOpY29ub21pc2VyIGxlcyByZXF1w6p0ZXMsIG9uIGNoZXJjaGUgZCdhYm9yZCBkYW5zIG5vdHJlIGJhc2VcbiAgICBjb25zb2xlLmxvZyhg77+977+9IFJlY2hlcmNoZSBcIiR7dGVhbU5hbWV9XCIgKMOpY29ub21pZSBkZSBxdW90YSlgKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgLy8gUmVzZXQgZHUgY29tcHRldXIgcXVvdGlkaWVuICjDoCBtaW51aXQpXG4gIHJlc2V0RGFpbHlDb3VudCgpIHtcbiAgICBkYWlseVJlcXVlc3RDb3VudCA9IDBcbiAgICBjb25zb2xlLmxvZygn8J+UhCBDb21wdGV1ciBxdW90aWRpZW4gcmVtaXMgw6AgesOpcm8nKVxuICB9XG5cbiAgLy8gU3RhdHV0IGFjdHVlbCBkdSBxdW90YVxuICBnZXRRdW90YVN0YXR1cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlZDogZGFpbHlSZXF1ZXN0Q291bnQsXG4gICAgICByZW1haW5pbmc6IE1BWF9EQUlMWV9SRVFVRVNUUyAtIGRhaWx5UmVxdWVzdENvdW50LFxuICAgICAgdG90YWw6IE1BWF9EQUlMWV9SRVFVRVNUU1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBpU3BvcnRzU2VydmljZSA9IG5ldyBBUElTcG9ydHNTZXJ2aWNlKClcbiJdLCJuYW1lcyI6WyJheGlvcyIsIlJBUElEQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJSQVBJREFQSV9IT1NUIiwiYXBpU3BvcnRzIiwiY3JlYXRlIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJkYWlseVJlcXVlc3RDb3VudCIsIk1BWF9EQUlMWV9SRVFVRVNUUyIsIkxFQUdVRVMiLCJQUkVNSUVSX0xFQUdVRSIsIkxJR1VFXzEiLCJCVU5ERVNMSUdBIiwiU0VSSUVfQSIsIkxBX0xJR0EiLCJDSEFNUElPTlNfTEVBR1VFIiwiRVVST1BBX0xFQUdVRSIsIkFQSVNwb3J0c1NlcnZpY2UiLCJtYWtlUmVxdWVzdCIsImVuZHBvaW50IiwicGFyYW1zIiwiY29uc29sZSIsImxvZyIsIkVycm9yIiwicmVzcG9uc2UiLCJnZXQiLCJkYXRhIiwiZXJyb3IiLCJzdGF0dXMiLCJnZXRGaW5pc2hlZE1hdGNoZXNCeURhdGUiLCJkYXRlIiwibGVhZ3VlIiwiT2JqZWN0IiwidmFsdWVzIiwiam9pbiIsImdldFNlYXNvbk1hdGNoZXMiLCJsZWFndWVJZCIsInNlYXNvbiIsImdldE1vbnRobHlNYXRjaGVzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImZyb20iLCJ0byIsInNlYXJjaE1hdGNoZXNCeVRlYW0iLCJ0ZWFtTmFtZSIsImxpbWl0IiwicmVzZXREYWlseUNvdW50IiwiZ2V0UXVvdGFTdGF0dXMiLCJ1c2VkIiwicmVtYWluaW5nIiwidG90YWwiLCJhcGlTcG9ydHNTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/football-api.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb3RyYXRlLy4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/import/historical.ts":
/*!****************************************!*\
  !*** ./pages/api/import/historical.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/auth */ \"(api)/./lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/prisma */ \"(api)/./lib/prisma.ts\");\n/* harmony import */ var _lib_football_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/football-api */ \"(api)/./lib/football-api.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_football_api__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_football_api__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Plan d'import progressif (FREE-friendly)\nconst IMPORT_PHASES = [\n    // 2023\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.PREMIER_LEAGUE,\n        season: 2023,\n        name: \"Premier League 2023\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.LIGUE_1,\n        season: 2023,\n        name: \"Ligue 1 2023\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.BUNDESLIGA,\n        season: 2023,\n        name: \"Bundesliga 2023\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.SERIE_A,\n        season: 2023,\n        name: \"Serie A 2023\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.LA_LIGA,\n        season: 2023,\n        name: \"La Liga 2023\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.CHAMPIONS_LEAGUE,\n        season: 2023,\n        name: \"Champions League 2023\"\n    },\n    // 2024\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.PREMIER_LEAGUE,\n        season: 2024,\n        name: \"Premier League 2024\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.LIGUE_1,\n        season: 2024,\n        name: \"Ligue 1 2024\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.BUNDESLIGA,\n        season: 2024,\n        name: \"Bundesliga 2024\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.SERIE_A,\n        season: 2024,\n        name: \"Serie A 2024\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.LA_LIGA,\n        season: 2024,\n        name: \"La Liga 2024\"\n    },\n    {\n        league: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.LEAGUES.CHAMPIONS_LEAGUE,\n        season: 2024,\n        name: \"Champions League 2024\"\n    }\n];\nasync function handler(req, res) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, _lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n    if (!session?.user?.id) {\n        return res.status(401).json({\n            error: \"Connexion requise\"\n        });\n    }\n    if (req.method === \"POST\") {\n        try {\n            const { phase, action } = req.body;\n            if (action === \"status\") {\n                // Retourner le statut d'import\n                const importStatus = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.groupBy({\n                    by: [\n                        \"competition\",\n                        \"season\"\n                    ],\n                    _count: {\n                        id: true\n                    }\n                });\n                const quota = _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getQuotaStatus();\n                return res.json({\n                    quota,\n                    phases: IMPORT_PHASES,\n                    imported: importStatus,\n                    totalPhases: IMPORT_PHASES.length\n                });\n            }\n            if (action === \"import_phase\") {\n                const phaseIndex = parseInt(phase);\n                if (phaseIndex < 0 || phaseIndex >= IMPORT_PHASES.length) {\n                    return res.status(400).json({\n                        error: \"Phase invalide\"\n                    });\n                }\n                const currentPhase = IMPORT_PHASES[phaseIndex];\n                console.log(`ðŸš€ Import Phase ${phaseIndex + 1}/${IMPORT_PHASES.length}: ${currentPhase.name}`);\n                // VÃ©rifier le quota\n                const quota = _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getQuotaStatus();\n                if (quota.remaining < 1) {\n                    return res.status(429).json({\n                        error: \"Quota quotidien atteint\",\n                        quota\n                    });\n                }\n                // RÃ©cupÃ©rer les matchs de cette phase\n                const matches = await _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getSeasonMatches(currentPhase.league, currentPhase.season);\n                console.log(`ðŸ“Š ${matches.length} matchs rÃ©cupÃ©rÃ©s pour ${currentPhase.name}`);\n                // Convertir et sauvegarder en base\n                let importedCount = 0;\n                let skippedCount = 0;\n                for (const apiMatch of matches){\n                    try {\n                        // VÃ©rifier si le match existe dÃ©jÃ \n                        const existing = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.findUnique({\n                            where: {\n                                apiMatchId: apiMatch.fixture.id\n                            }\n                        });\n                        if (existing) {\n                            skippedCount++;\n                            continue;\n                        }\n                        // CrÃ©er le match\n                        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.create({\n                            data: {\n                                apiMatchId: apiMatch.fixture.id,\n                                homeTeam: apiMatch.teams.home.name,\n                                awayTeam: apiMatch.teams.away.name,\n                                homeScore: apiMatch.goals.home,\n                                awayScore: apiMatch.goals.away,\n                                date: new Date(apiMatch.fixture.date),\n                                status: apiMatch.fixture.status.short === \"FT\" ? \"FINISHED\" : apiMatch.fixture.status.short,\n                                competition: apiMatch.league.name,\n                                season: currentPhase.season.toString(),\n                                venue: apiMatch.fixture.venue?.name,\n                                homeTeamLogo: apiMatch.teams.home.logo,\n                                awayTeamLogo: apiMatch.teams.away.logo\n                            }\n                        });\n                        importedCount++;\n                    } catch (error) {\n                        console.error(`âŒ Erreur import match ${apiMatch.fixture.id}:`, error);\n                    }\n                }\n                console.log(`âœ… Phase ${phaseIndex + 1} terminÃ©e: ${importedCount} importÃ©s, ${skippedCount} skippÃ©s`);\n                res.json({\n                    success: true,\n                    phase: phaseIndex + 1,\n                    totalPhases: IMPORT_PHASES.length,\n                    phaseName: currentPhase.name,\n                    matchesFound: matches.length,\n                    imported: importedCount,\n                    skipped: skippedCount,\n                    quota: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getQuotaStatus(),\n                    nextPhase: phaseIndex + 1 < IMPORT_PHASES.length ? phaseIndex + 1 : null\n                });\n            } else if (action === \"import_daily\") {\n                // Import quotidien (matchs terminÃ©s hier)\n                const yesterday = new Date();\n                yesterday.setDate(yesterday.getDate() - 1);\n                const dateStr = yesterday.toISOString().split(\"T\")[0];\n                const matches = await _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getFinishedMatchesByDate(dateStr);\n                let importedCount = 0;\n                for (const apiMatch of matches){\n                    try {\n                        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.upsert({\n                            where: {\n                                apiMatchId: apiMatch.fixture.id\n                            },\n                            update: {\n                                homeScore: apiMatch.goals.home,\n                                awayScore: apiMatch.goals.away,\n                                status: \"FINISHED\"\n                            },\n                            create: {\n                                apiMatchId: apiMatch.fixture.id,\n                                homeTeam: apiMatch.teams.home.name,\n                                awayTeam: apiMatch.teams.away.name,\n                                homeScore: apiMatch.goals.home,\n                                awayScore: apiMatch.goals.away,\n                                date: new Date(apiMatch.fixture.date),\n                                status: \"FINISHED\",\n                                competition: apiMatch.league.name,\n                                season: new Date().getFullYear().toString(),\n                                venue: apiMatch.fixture.venue?.name,\n                                homeTeamLogo: apiMatch.teams.home.logo,\n                                awayTeamLogo: apiMatch.teams.away.logo\n                            }\n                        });\n                        importedCount++;\n                    } catch (error) {\n                        console.error(`âŒ Erreur import quotidien:`, error);\n                    }\n                }\n                res.json({\n                    success: true,\n                    date: dateStr,\n                    matchesFound: matches.length,\n                    imported: importedCount,\n                    quota: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getQuotaStatus()\n                });\n            }\n        } catch (error) {\n            console.error(\"âŒ Erreur import historique:\", error);\n            res.status(500).json({\n                error: error.message,\n                quota: _lib_football_api__WEBPACK_IMPORTED_MODULE_3__.apiSportsService.getQuotaStatus()\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvaW1wb3J0L2hpc3RvcmljYWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ2lEO0FBQ0Y7QUFDSDtBQUN5QztBQUVyRiwyQ0FBMkM7QUFDM0MsTUFBTUssZ0JBQWdCO0lBQ3BCLE9BQU87SUFDUDtRQUFFQyxRQUFRRixzREFBT0EsQ0FBQ0csY0FBYztRQUFFQyxRQUFRO1FBQU1DLE1BQU07SUFBc0I7SUFDNUU7UUFBRUgsUUFBUUYsc0RBQU9BLENBQUNNLE9BQU87UUFBRUYsUUFBUTtRQUFNQyxNQUFNO0lBQWU7SUFDOUQ7UUFBRUgsUUFBUUYsc0RBQU9BLENBQUNPLFVBQVU7UUFBRUgsUUFBUTtRQUFNQyxNQUFNO0lBQWtCO0lBQ3BFO1FBQUVILFFBQVFGLHNEQUFPQSxDQUFDUSxPQUFPO1FBQUVKLFFBQVE7UUFBTUMsTUFBTTtJQUFlO0lBQzlEO1FBQUVILFFBQVFGLHNEQUFPQSxDQUFDUyxPQUFPO1FBQUVMLFFBQVE7UUFBTUMsTUFBTTtJQUFlO0lBQzlEO1FBQUVILFFBQVFGLHNEQUFPQSxDQUFDVSxnQkFBZ0I7UUFBRU4sUUFBUTtRQUFNQyxNQUFNO0lBQXdCO0lBRWhGLE9BQU87SUFDUDtRQUFFSCxRQUFRRixzREFBT0EsQ0FBQ0csY0FBYztRQUFFQyxRQUFRO1FBQU1DLE1BQU07SUFBc0I7SUFDNUU7UUFBRUgsUUFBUUYsc0RBQU9BLENBQUNNLE9BQU87UUFBRUYsUUFBUTtRQUFNQyxNQUFNO0lBQWU7SUFDOUQ7UUFBRUgsUUFBUUYsc0RBQU9BLENBQUNPLFVBQVU7UUFBRUgsUUFBUTtRQUFNQyxNQUFNO0lBQWtCO0lBQ3BFO1FBQUVILFFBQVFGLHNEQUFPQSxDQUFDUSxPQUFPO1FBQUVKLFFBQVE7UUFBTUMsTUFBTTtJQUFlO0lBQzlEO1FBQUVILFFBQVFGLHNEQUFPQSxDQUFDUyxPQUFPO1FBQUVMLFFBQVE7UUFBTUMsTUFBTTtJQUFlO0lBQzlEO1FBQUVILFFBQVFGLHNEQUFPQSxDQUFDVSxnQkFBZ0I7UUFBRU4sUUFBUTtRQUFNQyxNQUFNO0lBQXdCO0NBQ2pGO0FBRWMsZUFBZU0sUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsTUFBTUMsVUFBVSxNQUFNbEIsZ0VBQWdCQSxDQUFDZ0IsS0FBS0MsS0FBS2hCLGtEQUFXQTtJQUU1RCxJQUFJLENBQUNpQixTQUFTQyxNQUFNQyxJQUFJO1FBQ3RCLE9BQU9ILElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFvQjtJQUMzRDtJQUVBLElBQUlQLElBQUlRLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLElBQUk7WUFDRixNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUdWLElBQUlXLElBQUk7WUFFbEMsSUFBSUQsV0FBVyxVQUFVO2dCQUN2QiwrQkFBK0I7Z0JBQy9CLE1BQU1FLGVBQWUsTUFBTTFCLCtDQUFNQSxDQUFDMkIsS0FBSyxDQUFDQyxPQUFPLENBQUM7b0JBQzlDQyxJQUFJO3dCQUFDO3dCQUFlO3FCQUFTO29CQUM3QkMsUUFBUTt3QkFDTlosSUFBSTtvQkFDTjtnQkFDRjtnQkFFQSxNQUFNYSxRQUFROUIsK0RBQWdCQSxDQUFDK0IsY0FBYztnQkFFN0MsT0FBT2pCLElBQUlLLElBQUksQ0FBQztvQkFDZFc7b0JBQ0FFLFFBQVE5QjtvQkFDUitCLFVBQVVSO29CQUNWUyxhQUFhaEMsY0FBY2lDLE1BQU07Z0JBQ25DO1lBQ0Y7WUFFQSxJQUFJWixXQUFXLGdCQUFnQjtnQkFDN0IsTUFBTWEsYUFBYUMsU0FBU2Y7Z0JBRTVCLElBQUljLGFBQWEsS0FBS0EsY0FBY2xDLGNBQWNpQyxNQUFNLEVBQUU7b0JBQ3hELE9BQU9yQixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO3dCQUFFQyxPQUFPO29CQUFpQjtnQkFDeEQ7Z0JBRUEsTUFBTWtCLGVBQWVwQyxhQUFhLENBQUNrQyxXQUFXO2dCQUU5Q0csUUFBUUMsR0FBRyxDQUFDLENBQUMsZ0JBQWdCLEVBQUVKLGFBQWEsRUFBRSxDQUFDLEVBQUVsQyxjQUFjaUMsTUFBTSxDQUFDLEVBQUUsRUFBRUcsYUFBYWhDLElBQUksQ0FBQyxDQUFDO2dCQUU3RixvQkFBb0I7Z0JBQ3BCLE1BQU13QixRQUFROUIsK0RBQWdCQSxDQUFDK0IsY0FBYztnQkFDN0MsSUFBSUQsTUFBTVcsU0FBUyxHQUFHLEdBQUc7b0JBQ3ZCLE9BQU8zQixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO3dCQUMxQkMsT0FBTzt3QkFDUFU7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEsc0NBQXNDO2dCQUN0QyxNQUFNWSxVQUFVLE1BQU0xQywrREFBZ0JBLENBQUMyQyxnQkFBZ0IsQ0FDckRMLGFBQWFuQyxNQUFNLEVBQ25CbUMsYUFBYWpDLE1BQU07Z0JBR3JCa0MsUUFBUUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFRSxRQUFRUCxNQUFNLENBQUMsdUJBQXVCLEVBQUVHLGFBQWFoQyxJQUFJLENBQUMsQ0FBQztnQkFFN0UsbUNBQW1DO2dCQUNuQyxJQUFJc0MsZ0JBQWdCO2dCQUNwQixJQUFJQyxlQUFlO2dCQUVuQixLQUFLLE1BQU1DLFlBQVlKLFFBQVM7b0JBQzlCLElBQUk7d0JBQ0YsbUNBQW1DO3dCQUNuQyxNQUFNSyxXQUFXLE1BQU1oRCwrQ0FBTUEsQ0FBQzJCLEtBQUssQ0FBQ3NCLFVBQVUsQ0FBQzs0QkFDN0NDLE9BQU87Z0NBQUVDLFlBQVlKLFNBQVNLLE9BQU8sQ0FBQ2xDLEVBQUU7NEJBQUM7d0JBQzNDO3dCQUVBLElBQUk4QixVQUFVOzRCQUNaRjs0QkFDQTt3QkFDRjt3QkFFQSxpQkFBaUI7d0JBQ2pCLE1BQU05QywrQ0FBTUEsQ0FBQzJCLEtBQUssQ0FBQzBCLE1BQU0sQ0FBQzs0QkFDeEJDLE1BQU07Z0NBQ0pILFlBQVlKLFNBQVNLLE9BQU8sQ0FBQ2xDLEVBQUU7Z0NBQy9CcUMsVUFBVVIsU0FBU1MsS0FBSyxDQUFDQyxJQUFJLENBQUNsRCxJQUFJO2dDQUNsQ21ELFVBQVVYLFNBQVNTLEtBQUssQ0FBQ0csSUFBSSxDQUFDcEQsSUFBSTtnQ0FDbENxRCxXQUFXYixTQUFTYyxLQUFLLENBQUNKLElBQUk7Z0NBQzlCSyxXQUFXZixTQUFTYyxLQUFLLENBQUNGLElBQUk7Z0NBQzlCSSxNQUFNLElBQUlDLEtBQUtqQixTQUFTSyxPQUFPLENBQUNXLElBQUk7Z0NBQ3BDNUMsUUFBUTRCLFNBQVNLLE9BQU8sQ0FBQ2pDLE1BQU0sQ0FBQzhDLEtBQUssS0FBSyxPQUFPLGFBQWFsQixTQUFTSyxPQUFPLENBQUNqQyxNQUFNLENBQUM4QyxLQUFLO2dDQUMzRkMsYUFBYW5CLFNBQVMzQyxNQUFNLENBQUNHLElBQUk7Z0NBQ2pDRCxRQUFRaUMsYUFBYWpDLE1BQU0sQ0FBQzZELFFBQVE7Z0NBQ3BDQyxPQUFPckIsU0FBU0ssT0FBTyxDQUFDZ0IsS0FBSyxFQUFFN0Q7Z0NBQy9COEQsY0FBY3RCLFNBQVNTLEtBQUssQ0FBQ0MsSUFBSSxDQUFDYSxJQUFJO2dDQUN0Q0MsY0FBY3hCLFNBQVNTLEtBQUssQ0FBQ0csSUFBSSxDQUFDVyxJQUFJOzRCQUN4Qzt3QkFDRjt3QkFFQXpCO29CQUNGLEVBQUUsT0FBT3hCLE9BQU87d0JBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLENBQUMsc0JBQXNCLEVBQUUwQixTQUFTSyxPQUFPLENBQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUVHO29CQUNqRTtnQkFDRjtnQkFFQW1CLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRUosYUFBYSxFQUFFLFdBQVcsRUFBRVEsY0FBYyxXQUFXLEVBQUVDLGFBQWEsUUFBUSxDQUFDO2dCQUVwRy9CLElBQUlLLElBQUksQ0FBQztvQkFDUG9ELFNBQVM7b0JBQ1RqRCxPQUFPYyxhQUFhO29CQUNwQkYsYUFBYWhDLGNBQWNpQyxNQUFNO29CQUNqQ3FDLFdBQVdsQyxhQUFhaEMsSUFBSTtvQkFDNUJtRSxjQUFjL0IsUUFBUVAsTUFBTTtvQkFDNUJGLFVBQVVXO29CQUNWOEIsU0FBUzdCO29CQUNUZixPQUFPOUIsK0RBQWdCQSxDQUFDK0IsY0FBYztvQkFDdEM0QyxXQUFXdkMsYUFBYSxJQUFJbEMsY0FBY2lDLE1BQU0sR0FBR0MsYUFBYSxJQUFJO2dCQUN0RTtZQUVGLE9BQU8sSUFBSWIsV0FBVyxnQkFBZ0I7Z0JBQ3BDLDBDQUEwQztnQkFDMUMsTUFBTXFELFlBQVksSUFBSWI7Z0JBQ3RCYSxVQUFVQyxPQUFPLENBQUNELFVBQVVFLE9BQU8sS0FBSztnQkFDeEMsTUFBTUMsVUFBVUgsVUFBVUksV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBRXJELE1BQU12QyxVQUFVLE1BQU0xQywrREFBZ0JBLENBQUNrRix3QkFBd0IsQ0FBQ0g7Z0JBRWhFLElBQUluQyxnQkFBZ0I7Z0JBQ3BCLEtBQUssTUFBTUUsWUFBWUosUUFBUztvQkFDOUIsSUFBSTt3QkFDRixNQUFNM0MsK0NBQU1BLENBQUMyQixLQUFLLENBQUN5RCxNQUFNLENBQUM7NEJBQ3hCbEMsT0FBTztnQ0FBRUMsWUFBWUosU0FBU0ssT0FBTyxDQUFDbEMsRUFBRTs0QkFBQzs0QkFDekNtRSxRQUFRO2dDQUNOekIsV0FBV2IsU0FBU2MsS0FBSyxDQUFDSixJQUFJO2dDQUM5QkssV0FBV2YsU0FBU2MsS0FBSyxDQUFDRixJQUFJO2dDQUM5QnhDLFFBQVE7NEJBQ1Y7NEJBQ0FrQyxRQUFRO2dDQUNORixZQUFZSixTQUFTSyxPQUFPLENBQUNsQyxFQUFFO2dDQUMvQnFDLFVBQVVSLFNBQVNTLEtBQUssQ0FBQ0MsSUFBSSxDQUFDbEQsSUFBSTtnQ0FDbENtRCxVQUFVWCxTQUFTUyxLQUFLLENBQUNHLElBQUksQ0FBQ3BELElBQUk7Z0NBQ2xDcUQsV0FBV2IsU0FBU2MsS0FBSyxDQUFDSixJQUFJO2dDQUM5QkssV0FBV2YsU0FBU2MsS0FBSyxDQUFDRixJQUFJO2dDQUM5QkksTUFBTSxJQUFJQyxLQUFLakIsU0FBU0ssT0FBTyxDQUFDVyxJQUFJO2dDQUNwQzVDLFFBQVE7Z0NBQ1IrQyxhQUFhbkIsU0FBUzNDLE1BQU0sQ0FBQ0csSUFBSTtnQ0FDakNELFFBQVEsSUFBSTBELE9BQU9zQixXQUFXLEdBQUduQixRQUFRO2dDQUN6Q0MsT0FBT3JCLFNBQVNLLE9BQU8sQ0FBQ2dCLEtBQUssRUFBRTdEO2dDQUMvQjhELGNBQWN0QixTQUFTUyxLQUFLLENBQUNDLElBQUksQ0FBQ2EsSUFBSTtnQ0FDdENDLGNBQWN4QixTQUFTUyxLQUFLLENBQUNHLElBQUksQ0FBQ1csSUFBSTs0QkFDeEM7d0JBQ0Y7d0JBQ0F6QjtvQkFDRixFQUFFLE9BQU94QixPQUFPO3dCQUNkbUIsUUFBUW5CLEtBQUssQ0FBQyxDQUFDLDBCQUEwQixDQUFDLEVBQUVBO29CQUM5QztnQkFDRjtnQkFFQU4sSUFBSUssSUFBSSxDQUFDO29CQUNQb0QsU0FBUztvQkFDVFQsTUFBTWlCO29CQUNOTixjQUFjL0IsUUFBUVAsTUFBTTtvQkFDNUJGLFVBQVVXO29CQUNWZCxPQUFPOUIsK0RBQWdCQSxDQUFDK0IsY0FBYztnQkFDeEM7WUFDRjtRQUVGLEVBQUUsT0FBT1gsT0FBWTtZQUNuQm1CLFFBQVFuQixLQUFLLENBQUMsK0JBQStCQTtZQUM3Q04sSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkJDLE9BQU9BLE1BQU1rRSxPQUFPO2dCQUNwQnhELE9BQU85QiwrREFBZ0JBLENBQUMrQixjQUFjO1lBQ3hDO1FBQ0Y7SUFDRixPQUFPO1FBQ0xqQixJQUFJeUUsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFPO1FBQy9CekUsSUFBSUksTUFBTSxDQUFDLEtBQUtzRSxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUzRSxJQUFJUSxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQ3hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb290cmF0ZS8uL3BhZ2VzL2FwaS9pbXBvcnQvaGlzdG9yaWNhbC50cz9mZTJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9uZXh0J1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9saWIvYXV0aCdcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4uLy4uLy4uL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBhcGlTcG9ydHNTZXJ2aWNlLCBMRUFHVUVTLCBBUElTcG9ydHNNYXRjaCB9IGZyb20gJy4uLy4uLy4uL2xpYi9mb290YmFsbC1hcGknXG5cbi8vIFBsYW4gZCdpbXBvcnQgcHJvZ3Jlc3NpZiAoRlJFRS1mcmllbmRseSlcbmNvbnN0IElNUE9SVF9QSEFTRVMgPSBbXG4gIC8vIDIwMjNcbiAgeyBsZWFndWU6IExFQUdVRVMuUFJFTUlFUl9MRUFHVUUsIHNlYXNvbjogMjAyMywgbmFtZTogJ1ByZW1pZXIgTGVhZ3VlIDIwMjMnIH0sXG4gIHsgbGVhZ3VlOiBMRUFHVUVTLkxJR1VFXzEsIHNlYXNvbjogMjAyMywgbmFtZTogJ0xpZ3VlIDEgMjAyMycgfSxcbiAgeyBsZWFndWU6IExFQUdVRVMuQlVOREVTTElHQSwgc2Vhc29uOiAyMDIzLCBuYW1lOiAnQnVuZGVzbGlnYSAyMDIzJyB9LFxuICB7IGxlYWd1ZTogTEVBR1VFUy5TRVJJRV9BLCBzZWFzb246IDIwMjMsIG5hbWU6ICdTZXJpZSBBIDIwMjMnIH0sXG4gIHsgbGVhZ3VlOiBMRUFHVUVTLkxBX0xJR0EsIHNlYXNvbjogMjAyMywgbmFtZTogJ0xhIExpZ2EgMjAyMycgfSxcbiAgeyBsZWFndWU6IExFQUdVRVMuQ0hBTVBJT05TX0xFQUdVRSwgc2Vhc29uOiAyMDIzLCBuYW1lOiAnQ2hhbXBpb25zIExlYWd1ZSAyMDIzJyB9LFxuICBcbiAgLy8gMjAyNFxuICB7IGxlYWd1ZTogTEVBR1VFUy5QUkVNSUVSX0xFQUdVRSwgc2Vhc29uOiAyMDI0LCBuYW1lOiAnUHJlbWllciBMZWFndWUgMjAyNCcgfSxcbiAgeyBsZWFndWU6IExFQUdVRVMuTElHVUVfMSwgc2Vhc29uOiAyMDI0LCBuYW1lOiAnTGlndWUgMSAyMDI0JyB9LFxuICB7IGxlYWd1ZTogTEVBR1VFUy5CVU5ERVNMSUdBLCBzZWFzb246IDIwMjQsIG5hbWU6ICdCdW5kZXNsaWdhIDIwMjQnIH0sXG4gIHsgbGVhZ3VlOiBMRUFHVUVTLlNFUklFX0EsIHNlYXNvbjogMjAyNCwgbmFtZTogJ1NlcmllIEEgMjAyNCcgfSxcbiAgeyBsZWFndWU6IExFQUdVRVMuTEFfTElHQSwgc2Vhc29uOiAyMDI0LCBuYW1lOiAnTGEgTGlnYSAyMDI0JyB9LFxuICB7IGxlYWd1ZTogTEVBR1VFUy5DSEFNUElPTlNfTEVBR1VFLCBzZWFzb246IDIwMjQsIG5hbWU6ICdDaGFtcGlvbnMgTGVhZ3VlIDIwMjQnIH0sXG5dXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24ocmVxLCByZXMsIGF1dGhPcHRpb25zKVxuXG4gIGlmICghc2Vzc2lvbj8udXNlcj8uaWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ0Nvbm5leGlvbiByZXF1aXNlJyB9KVxuICB9XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHBoYXNlLCBhY3Rpb24gfSA9IHJlcS5ib2R5XG5cbiAgICAgIGlmIChhY3Rpb24gPT09ICdzdGF0dXMnKSB7XG4gICAgICAgIC8vIFJldG91cm5lciBsZSBzdGF0dXQgZCdpbXBvcnRcbiAgICAgICAgY29uc3QgaW1wb3J0U3RhdHVzID0gYXdhaXQgcHJpc21hLm1hdGNoLmdyb3VwQnkoe1xuICAgICAgICAgIGJ5OiBbJ2NvbXBldGl0aW9uJywgJ3NlYXNvbiddLFxuICAgICAgICAgIF9jb3VudDoge1xuICAgICAgICAgICAgaWQ6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcXVvdGEgPSBhcGlTcG9ydHNTZXJ2aWNlLmdldFF1b3RhU3RhdHVzKClcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgIHF1b3RhLFxuICAgICAgICAgIHBoYXNlczogSU1QT1JUX1BIQVNFUyxcbiAgICAgICAgICBpbXBvcnRlZDogaW1wb3J0U3RhdHVzLFxuICAgICAgICAgIHRvdGFsUGhhc2VzOiBJTVBPUlRfUEhBU0VTLmxlbmd0aFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoYWN0aW9uID09PSAnaW1wb3J0X3BoYXNlJykge1xuICAgICAgICBjb25zdCBwaGFzZUluZGV4ID0gcGFyc2VJbnQocGhhc2UpXG4gICAgICAgIFxuICAgICAgICBpZiAocGhhc2VJbmRleCA8IDAgfHwgcGhhc2VJbmRleCA+PSBJTVBPUlRfUEhBU0VTLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnUGhhc2UgaW52YWxpZGUnIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50UGhhc2UgPSBJTVBPUlRfUEhBU0VTW3BoYXNlSW5kZXhdXG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhg8J+agCBJbXBvcnQgUGhhc2UgJHtwaGFzZUluZGV4ICsgMX0vJHtJTVBPUlRfUEhBU0VTLmxlbmd0aH06ICR7Y3VycmVudFBoYXNlLm5hbWV9YClcblxuICAgICAgICAvLyBWw6lyaWZpZXIgbGUgcXVvdGFcbiAgICAgICAgY29uc3QgcXVvdGEgPSBhcGlTcG9ydHNTZXJ2aWNlLmdldFF1b3RhU3RhdHVzKClcbiAgICAgICAgaWYgKHF1b3RhLnJlbWFpbmluZyA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjkpLmpzb24oeyBcbiAgICAgICAgICAgIGVycm9yOiAnUXVvdGEgcXVvdGlkaWVuIGF0dGVpbnQnLFxuICAgICAgICAgICAgcXVvdGEgXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFLDqWN1cMOpcmVyIGxlcyBtYXRjaHMgZGUgY2V0dGUgcGhhc2VcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGF3YWl0IGFwaVNwb3J0c1NlcnZpY2UuZ2V0U2Vhc29uTWF0Y2hlcyhcbiAgICAgICAgICBjdXJyZW50UGhhc2UubGVhZ3VlLCBcbiAgICAgICAgICBjdXJyZW50UGhhc2Uuc2Vhc29uXG4gICAgICAgIClcblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiAke21hdGNoZXMubGVuZ3RofSBtYXRjaHMgcsOpY3Vww6lyw6lzIHBvdXIgJHtjdXJyZW50UGhhc2UubmFtZX1gKVxuXG4gICAgICAgIC8vIENvbnZlcnRpciBldCBzYXV2ZWdhcmRlciBlbiBiYXNlXG4gICAgICAgIGxldCBpbXBvcnRlZENvdW50ID0gMFxuICAgICAgICBsZXQgc2tpcHBlZENvdW50ID0gMFxuXG4gICAgICAgIGZvciAoY29uc3QgYXBpTWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBWw6lyaWZpZXIgc2kgbGUgbWF0Y2ggZXhpc3RlIGTDqWrDoFxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBwcmlzbWEubWF0Y2guZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICAgIHdoZXJlOiB7IGFwaU1hdGNoSWQ6IGFwaU1hdGNoLmZpeHR1cmUuaWQgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgIHNraXBwZWRDb3VudCsrXG4gICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyw6llciBsZSBtYXRjaFxuICAgICAgICAgICAgYXdhaXQgcHJpc21hLm1hdGNoLmNyZWF0ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhcGlNYXRjaElkOiBhcGlNYXRjaC5maXh0dXJlLmlkLFxuICAgICAgICAgICAgICAgIGhvbWVUZWFtOiBhcGlNYXRjaC50ZWFtcy5ob21lLm5hbWUsXG4gICAgICAgICAgICAgICAgYXdheVRlYW06IGFwaU1hdGNoLnRlYW1zLmF3YXkubmFtZSxcbiAgICAgICAgICAgICAgICBob21lU2NvcmU6IGFwaU1hdGNoLmdvYWxzLmhvbWUsXG4gICAgICAgICAgICAgICAgYXdheVNjb3JlOiBhcGlNYXRjaC5nb2Fscy5hd2F5LFxuICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKGFwaU1hdGNoLmZpeHR1cmUuZGF0ZSksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBhcGlNYXRjaC5maXh0dXJlLnN0YXR1cy5zaG9ydCA9PT0gJ0ZUJyA/ICdGSU5JU0hFRCcgOiBhcGlNYXRjaC5maXh0dXJlLnN0YXR1cy5zaG9ydCxcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjogYXBpTWF0Y2gubGVhZ3VlLm5hbWUsXG4gICAgICAgICAgICAgICAgc2Vhc29uOiBjdXJyZW50UGhhc2Uuc2Vhc29uLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgdmVudWU6IGFwaU1hdGNoLmZpeHR1cmUudmVudWU/Lm5hbWUsXG4gICAgICAgICAgICAgICAgaG9tZVRlYW1Mb2dvOiBhcGlNYXRjaC50ZWFtcy5ob21lLmxvZ28sXG4gICAgICAgICAgICAgICAgYXdheVRlYW1Mb2dvOiBhcGlNYXRjaC50ZWFtcy5hd2F5LmxvZ28sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGltcG9ydGVkQ291bnQrK1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyZXVyIGltcG9ydCBtYXRjaCAke2FwaU1hdGNoLmZpeHR1cmUuaWR9OmAsIGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgUGhhc2UgJHtwaGFzZUluZGV4ICsgMX0gdGVybWluw6llOiAke2ltcG9ydGVkQ291bnR9IGltcG9ydMOpcywgJHtza2lwcGVkQ291bnR9IHNraXBww6lzYClcblxuICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBwaGFzZTogcGhhc2VJbmRleCArIDEsXG4gICAgICAgICAgdG90YWxQaGFzZXM6IElNUE9SVF9QSEFTRVMubGVuZ3RoLFxuICAgICAgICAgIHBoYXNlTmFtZTogY3VycmVudFBoYXNlLm5hbWUsXG4gICAgICAgICAgbWF0Y2hlc0ZvdW5kOiBtYXRjaGVzLmxlbmd0aCxcbiAgICAgICAgICBpbXBvcnRlZDogaW1wb3J0ZWRDb3VudCxcbiAgICAgICAgICBza2lwcGVkOiBza2lwcGVkQ291bnQsXG4gICAgICAgICAgcXVvdGE6IGFwaVNwb3J0c1NlcnZpY2UuZ2V0UXVvdGFTdGF0dXMoKSxcbiAgICAgICAgICBuZXh0UGhhc2U6IHBoYXNlSW5kZXggKyAxIDwgSU1QT1JUX1BIQVNFUy5sZW5ndGggPyBwaGFzZUluZGV4ICsgMSA6IG51bGxcbiAgICAgICAgfSlcblxuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdpbXBvcnRfZGFpbHknKSB7XG4gICAgICAgIC8vIEltcG9ydCBxdW90aWRpZW4gKG1hdGNocyB0ZXJtaW7DqXMgaGllcilcbiAgICAgICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKVxuICAgICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSlcbiAgICAgICAgY29uc3QgZGF0ZVN0ciA9IHllc3RlcmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cblxuICAgICAgICBjb25zdCBtYXRjaGVzID0gYXdhaXQgYXBpU3BvcnRzU2VydmljZS5nZXRGaW5pc2hlZE1hdGNoZXNCeURhdGUoZGF0ZVN0cilcbiAgICAgICAgXG4gICAgICAgIGxldCBpbXBvcnRlZENvdW50ID0gMFxuICAgICAgICBmb3IgKGNvbnN0IGFwaU1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcHJpc21hLm1hdGNoLnVwc2VydCh7XG4gICAgICAgICAgICAgIHdoZXJlOiB7IGFwaU1hdGNoSWQ6IGFwaU1hdGNoLmZpeHR1cmUuaWQgfSxcbiAgICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgaG9tZVNjb3JlOiBhcGlNYXRjaC5nb2Fscy5ob21lLFxuICAgICAgICAgICAgICAgIGF3YXlTY29yZTogYXBpTWF0Y2guZ29hbHMuYXdheSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdGSU5JU0hFRCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICAgICAgYXBpTWF0Y2hJZDogYXBpTWF0Y2guZml4dHVyZS5pZCxcbiAgICAgICAgICAgICAgICBob21lVGVhbTogYXBpTWF0Y2gudGVhbXMuaG9tZS5uYW1lLFxuICAgICAgICAgICAgICAgIGF3YXlUZWFtOiBhcGlNYXRjaC50ZWFtcy5hd2F5Lm5hbWUsXG4gICAgICAgICAgICAgICAgaG9tZVNjb3JlOiBhcGlNYXRjaC5nb2Fscy5ob21lLFxuICAgICAgICAgICAgICAgIGF3YXlTY29yZTogYXBpTWF0Y2guZ29hbHMuYXdheSxcbiAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShhcGlNYXRjaC5maXh0dXJlLmRhdGUpLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ0ZJTklTSEVEJyxcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjogYXBpTWF0Y2gubGVhZ3VlLm5hbWUsXG4gICAgICAgICAgICAgICAgc2Vhc29uOiBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB2ZW51ZTogYXBpTWF0Y2guZml4dHVyZS52ZW51ZT8ubmFtZSxcbiAgICAgICAgICAgICAgICBob21lVGVhbUxvZ286IGFwaU1hdGNoLnRlYW1zLmhvbWUubG9nbyxcbiAgICAgICAgICAgICAgICBhd2F5VGVhbUxvZ286IGFwaU1hdGNoLnRlYW1zLmF3YXkubG9nbyxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGltcG9ydGVkQ291bnQrK1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyZXVyIGltcG9ydCBxdW90aWRpZW46YCwgZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0ZTogZGF0ZVN0cixcbiAgICAgICAgICBtYXRjaGVzRm91bmQ6IG1hdGNoZXMubGVuZ3RoLFxuICAgICAgICAgIGltcG9ydGVkOiBpbXBvcnRlZENvdW50LFxuICAgICAgICAgIHF1b3RhOiBhcGlTcG9ydHNTZXJ2aWNlLmdldFF1b3RhU3RhdHVzKClcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgaW1wb3J0IGhpc3RvcmlxdWU6JywgZXJyb3IpXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgcXVvdGE6IGFwaVNwb3J0c1NlcnZpY2UuZ2V0UXVvdGFTdGF0dXMoKVxuICAgICAgfSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSlcbiAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJwcmlzbWEiLCJhcGlTcG9ydHNTZXJ2aWNlIiwiTEVBR1VFUyIsIklNUE9SVF9QSEFTRVMiLCJsZWFndWUiLCJQUkVNSUVSX0xFQUdVRSIsInNlYXNvbiIsIm5hbWUiLCJMSUdVRV8xIiwiQlVOREVTTElHQSIsIlNFUklFX0EiLCJMQV9MSUdBIiwiQ0hBTVBJT05TX0xFQUdVRSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXNzaW9uIiwidXNlciIsImlkIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWV0aG9kIiwicGhhc2UiLCJhY3Rpb24iLCJib2R5IiwiaW1wb3J0U3RhdHVzIiwibWF0Y2giLCJncm91cEJ5IiwiYnkiLCJfY291bnQiLCJxdW90YSIsImdldFF1b3RhU3RhdHVzIiwicGhhc2VzIiwiaW1wb3J0ZWQiLCJ0b3RhbFBoYXNlcyIsImxlbmd0aCIsInBoYXNlSW5kZXgiLCJwYXJzZUludCIsImN1cnJlbnRQaGFzZSIsImNvbnNvbGUiLCJsb2ciLCJyZW1haW5pbmciLCJtYXRjaGVzIiwiZ2V0U2Vhc29uTWF0Y2hlcyIsImltcG9ydGVkQ291bnQiLCJza2lwcGVkQ291bnQiLCJhcGlNYXRjaCIsImV4aXN0aW5nIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiYXBpTWF0Y2hJZCIsImZpeHR1cmUiLCJjcmVhdGUiLCJkYXRhIiwiaG9tZVRlYW0iLCJ0ZWFtcyIsImhvbWUiLCJhd2F5VGVhbSIsImF3YXkiLCJob21lU2NvcmUiLCJnb2FscyIsImF3YXlTY29yZSIsImRhdGUiLCJEYXRlIiwic2hvcnQiLCJjb21wZXRpdGlvbiIsInRvU3RyaW5nIiwidmVudWUiLCJob21lVGVhbUxvZ28iLCJsb2dvIiwiYXdheVRlYW1Mb2dvIiwic3VjY2VzcyIsInBoYXNlTmFtZSIsIm1hdGNoZXNGb3VuZCIsInNraXBwZWQiLCJuZXh0UGhhc2UiLCJ5ZXN0ZXJkYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhdGVTdHIiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiZ2V0RmluaXNoZWRNYXRjaGVzQnlEYXRlIiwidXBzZXJ0IiwidXBkYXRlIiwiZ2V0RnVsbFllYXIiLCJtZXNzYWdlIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/import/historical.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fimport%2Fhistorical&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fimport%2Fhistorical.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();