"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/matches";
exports.ids = ["pages/api/matches"];
exports.modules = {

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/github":
/*!*********************************************!*\
  !*** external "next-auth/providers/github" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/github");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/matches.ts */ \"(api)/./pages/api/matches.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/matches\",\n        pathname: \"/api/matches\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm1hdGNoZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRm1hdGNoZXMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDbUQ7QUFDbkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGtEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxrREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb290cmF0ZS8/MWU3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL21hdGNoZXMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tYXRjaGVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWF0Y2hlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/github */ \"next-auth/providers/github\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prisma */ \"(api)/./lib/prisma.ts\");\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_4__.prisma),\n    providers: [\n        next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GITHUB_ID,\n            clientSecret: process.env.GITHUB_SECRET\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default()({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Mot de passe\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_4__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.password) {\n                    return null;\n                }\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_3___default().compare(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    return null;\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    username: user.username\n                };\n            }\n        })\n    ],\n    callbacks: {\n        session: async ({ session, token })=>{\n            if (session?.user) {\n                session.user.id = token.sub;\n            }\n            return session;\n        },\n        jwt: async ({ user, token })=>{\n            if (user) {\n                token.uid = user.id;\n            }\n            return token;\n        }\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3lEO0FBQ0Y7QUFDVTtBQUNwQztBQUNJO0FBRTFCLE1BQU1LLGNBQStCO0lBQzFDQyxTQUFTTix3RUFBYUEsQ0FBQ0ksMkNBQU1BO0lBQzdCRyxXQUFXO1FBQ1ROLGlFQUFjQSxDQUFDO1lBQ2JPLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztZQUMvQkMsY0FBY0gsUUFBUUMsR0FBRyxDQUFDRyxhQUFhO1FBQ3pDO1FBQ0FYLHNFQUFtQkEsQ0FBQztZQUNsQlksTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBZ0JDLE1BQU07Z0JBQVc7WUFDdEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJLENBQUNBLGFBQWFDLFNBQVMsQ0FBQ0QsYUFBYUksVUFBVTtvQkFDakQsT0FBTztnQkFDVDtnQkFFQSxNQUFNRSxPQUFPLE1BQU1qQiwyQ0FBTUEsQ0FBQ2lCLElBQUksQ0FBQ0MsVUFBVSxDQUFDO29CQUN4Q0MsT0FBTzt3QkFDTFAsT0FBT0QsWUFBWUMsS0FBSztvQkFDMUI7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDSyxRQUFRLENBQUNBLEtBQUtGLFFBQVEsRUFBRTtvQkFDM0IsT0FBTztnQkFDVDtnQkFFQSxNQUFNSyxrQkFBa0IsTUFBTXJCLHVEQUFjLENBQzFDWSxZQUFZSSxRQUFRLEVBQ3BCRSxLQUFLRixRQUFRO2dCQUdmLElBQUksQ0FBQ0ssaUJBQWlCO29CQUNwQixPQUFPO2dCQUNUO2dCQUVBLE9BQU87b0JBQ0xFLElBQUlMLEtBQUtLLEVBQUU7b0JBQ1hWLE9BQU9LLEtBQUtMLEtBQUs7b0JBQ2pCRixNQUFNTyxLQUFLUCxJQUFJO29CQUNmYSxVQUFVTixLQUFLTSxRQUFRO2dCQUN6QjtZQUNGO1FBQ0Y7S0FDRDtJQUNEQyxXQUFXO1FBQ1RDLFNBQVMsT0FBTyxFQUFFQSxPQUFPLEVBQUVDLEtBQUssRUFBRTtZQUNoQyxJQUFJRCxTQUFTUixNQUFNO2dCQUNqQlEsUUFBUVIsSUFBSSxDQUFDSyxFQUFFLEdBQUdJLE1BQU1DLEdBQUc7WUFDN0I7WUFDQSxPQUFPRjtRQUNUO1FBQ0FHLEtBQUssT0FBTyxFQUFFWCxJQUFJLEVBQUVTLEtBQUssRUFBRTtZQUN6QixJQUFJVCxNQUFNO2dCQUNSUyxNQUFNRyxHQUFHLEdBQUdaLEtBQUtLLEVBQUU7WUFDckI7WUFDQSxPQUFPSTtRQUNUO0lBQ0Y7SUFDQUQsU0FBUztRQUNQSyxVQUFVO0lBQ1o7SUFDQUMsT0FBTztRQUNMQyxRQUFRO0lBQ1Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vdHJhdGUvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyXCJcbmltcG9ydCBHaXRodWJQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9naXRodWJcIlxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIlxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4vcHJpc21hXCJcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgR2l0aHViUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdJVEhVQl9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQhLFxuICAgIH0pLFxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJlbWFpbFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIk1vdCBkZSBwYXNzZVwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShcbiAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICB1c2VyLnBhc3N3b3JkXG4gICAgICAgIClcblxuICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIHNlc3Npb246IGFzeW5jICh7IHNlc3Npb24sIHRva2VuIH0pID0+IHtcbiAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLnN1YiFcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfSxcbiAgICBqd3Q6IGFzeW5jICh7IHVzZXIsIHRva2VuIH0pID0+IHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVpZCA9IHVzZXIuaWRcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2F1dGgvc2lnbmluJyxcbiAgfSxcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiR2l0aHViUHJvdmlkZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiYmNyeXB0IiwicHJpc21hIiwiYXV0aE9wdGlvbnMiLCJhZGFwdGVyIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR0lUSFVCX0lEIiwiY2xpZW50U2VjcmV0IiwiR0lUSFVCX1NFQ1JFVCIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXNQYXNzd29yZFZhbGlkIiwiY29tcGFyZSIsImlkIiwidXNlcm5hbWUiLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwidG9rZW4iLCJzdWIiLCJqd3QiLCJ1aWQiLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/auth.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb3RyYXRlLy4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/matches.ts":
/*!******************************!*\
  !*** ./pages/api/matches.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/auth */ \"(api)/./lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/prisma */ \"(api)/./lib/prisma.ts\");\n// pages/api/matches.ts - AVEC PAGINATION POUR MOBILE\n\n\n\nasync function handler(req, res) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, _lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n    if (!session?.user?.id) {\n        return res.status(401).json({\n            error: \"Connexion requise\"\n        });\n    }\n    if (req.method === \"GET\") {\n        try {\n            const { type = \"recent\", sport = \"all\", days = \"365\", limit = \"10\", page = \"1\", search, competition, sortBy = \"date\" } = req.query;\n            // üÜï CALCUL PAGINATION\n            const limitNum = parseInt(limit);\n            const pageNum = parseInt(page);\n            const skip = (pageNum - 1) * limitNum;\n            console.log(`üîç API Matches - Filtres re√ßus:`, {\n                type,\n                sport,\n                days,\n                limit: limitNum,\n                page: pageNum,\n                skip,\n                search,\n                competition,\n                sortBy\n            });\n            // Construction du filtre sport\n            let sportFilter = {};\n            if (sport && sport !== \"all\") {\n                const sportMapping = {\n                    \"football\": \"FOOTBALL\",\n                    \"basketball\": \"BASKETBALL\",\n                    \"mma\": \"MMA\",\n                    \"rugby\": \"RUGBY\",\n                    \"f1\": \"F1\",\n                    \"tennis\": \"TENNIS\"\n                };\n                const mappedSport = sportMapping[sport];\n                if (mappedSport) {\n                    sportFilter = {\n                        sport: mappedSport\n                    };\n                    console.log(`üéØ Filtre sport appliqu√©: ${sport} -> ${mappedSport}`);\n                }\n            }\n            // Construction du filtre de base\n            const baseFilters = {\n                status: \"FINISHED\",\n                ...sportFilter\n            };\n            // Filtre par date\n            if (type === \"today\") {\n                const today = new Date();\n                today.setHours(0, 0, 0, 0);\n                const tomorrow = new Date(today);\n                tomorrow.setDate(tomorrow.getDate() + 1);\n                baseFilters.date = {\n                    gte: today,\n                    lt: tomorrow\n                };\n            } else {\n                const daysBack = parseInt(days);\n                if (daysBack > 0) {\n                    const daysAgo = new Date();\n                    daysAgo.setDate(daysAgo.getDate() - daysBack);\n                    baseFilters.date = {\n                        gte: daysAgo\n                    };\n                    console.log(`üìÖ Filtre date: depuis ${daysAgo.toLocaleDateString()} (${daysBack} jours)`);\n                }\n            }\n            // Filtre par recherche\n            if (search && typeof search === \"string\") {\n                baseFilters.OR = [\n                    {\n                        homeTeam: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    },\n                    {\n                        awayTeam: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    },\n                    {\n                        competition: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    }\n                ];\n            }\n            // Filtre par comp√©tition\n            if (competition && competition !== \"all\") {\n                baseFilters.competition = competition;\n            }\n            console.log(`üîç Filtres Prisma appliqu√©s:`, JSON.stringify(baseFilters, null, 2));\n            // üÜï CONFIGURATION DU TRI\n            let orderBy = {\n                date: \"desc\"\n            } // Par d√©faut : par date\n            ;\n            if (sortBy === \"popularity\") {\n                orderBy = [\n                    {\n                        totalRatings: \"desc\"\n                    },\n                    {\n                        avgRating: \"desc\"\n                    },\n                    {\n                        date: \"desc\"\n                    }\n                ];\n                console.log(`üìä Tri par popularit√© activ√©`);\n            } else if (sortBy === \"rating\") {\n                orderBy = [\n                    {\n                        avgRating: \"desc\"\n                    },\n                    {\n                        totalRatings: \"desc\"\n                    },\n                    {\n                        date: \"desc\"\n                    }\n                ];\n                console.log(`‚≠ê Tri par note moyenne activ√©`);\n            } else if (sortBy === \"date\") {\n                orderBy = {\n                    date: \"desc\"\n                };\n                console.log(`üìÖ Tri par date activ√©`);\n            }\n            // üÜï REQU√äTE PRINCIPALE AVEC PAGINATION\n            const matches = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.findMany({\n                where: baseFilters,\n                include: {\n                    ratings: {\n                        include: {\n                            user: {\n                                select: {\n                                    id: true,\n                                    name: true,\n                                    username: true\n                                }\n                            }\n                        }\n                    }\n                },\n                orderBy,\n                skip: skip,\n                take: limitNum // üÜï TAKE POUR LIMIT\n            });\n            console.log(`‚úÖ ${matches.length} matchs trouv√©s (page ${pageNum}, skip ${skip}) avec tri: ${sortBy}`);\n            // üÜï COMPTER LE TOTAL POUR SAVOIR S'IL Y A PLUS DE R√âSULTATS\n            const totalMatches = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.count({\n                where: baseFilters\n            });\n            const hasMore = skip + matches.length < totalMatches;\n            console.log(`üìä Total: ${totalMatches}, R√©cup√©r√©s: ${matches.length}, HasMore: ${hasMore}`);\n            // Debug: Afficher les top matchs selon le tri choisi\n            if (sortBy === \"popularity\" && matches.length > 0) {\n                const top3 = matches.slice(0, 3).map((m)=>({\n                        teams: `${m.homeTeam} vs ${m.awayTeam}`,\n                        totalRatings: m.totalRatings,\n                        avgRating: m.avgRating.toFixed(1)\n                    }));\n                console.log(`üèÜ Top 3 page ${pageNum} par popularit√©:`, top3);\n            }\n            // Conversion des matchs\n            const formattedMatches = matches.map((match)=>({\n                    id: match.id,\n                    apiId: match.apiMatchId,\n                    sport: getSportFromEnum(match.sport),\n                    homeTeam: match.homeTeam,\n                    awayTeam: match.awayTeam,\n                    homeScore: match.homeScore,\n                    awayScore: match.awayScore,\n                    date: match.date.toISOString(),\n                    status: match.status,\n                    competition: match.competition,\n                    venue: match.venue,\n                    avgRating: match.avgRating,\n                    totalRatings: match.totalRatings,\n                    homeTeamLogo: match.homeTeamLogo,\n                    awayTeamLogo: match.awayTeamLogo,\n                    canRate: true,\n                    ratings: match.ratings,\n                    details: match.details\n                }));\n            // üÜï STATS SEULEMENT POUR LA PREMI√àRE PAGE (OPTIMISATION)\n            let stats = null;\n            if (pageNum === 1) {\n                const bySportStats = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.groupBy({\n                    by: [\n                        \"sport\"\n                    ],\n                    where: {\n                        status: \"FINISHED\"\n                    },\n                    _count: {\n                        sport: true\n                    }\n                });\n                const byCompetitionStats = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.groupBy({\n                    by: [\n                        \"competition\",\n                        \"sport\"\n                    ],\n                    where: {\n                        status: \"FINISHED\"\n                    },\n                    _count: {\n                        competition: true\n                    }\n                });\n                // Convertir les stats des sports\n                const convertedSportStats = bySportStats.map((stat)=>({\n                        sport: getSportFromEnum(stat.sport),\n                        count: stat._count.sport\n                    }));\n                const limitedCompetitionStats = byCompetitionStats.slice(0, 50).map((stat)=>({\n                        competition: stat.competition,\n                        sport: getSportFromEnum(stat.sport),\n                        count: stat._count.competition\n                    }));\n                stats = {\n                    total: totalMatches,\n                    bySport: convertedSportStats,\n                    byCompetition: limitedCompetitionStats\n                };\n            }\n            // üÜï R√âPONSE AVEC PAGINATION\n            res.status(200).json({\n                matches: formattedMatches,\n                pagination: {\n                    currentPage: pageNum,\n                    totalPages: Math.ceil(totalMatches / limitNum),\n                    totalItems: totalMatches,\n                    itemsPerPage: limitNum,\n                    hasMore: hasMore,\n                    hasNext: hasMore,\n                    hasPrevious: pageNum > 1\n                },\n                stats: stats,\n                sortBy: sortBy\n            });\n        } catch (error) {\n            console.error(\"‚ùå Erreur API matches:\", error);\n            res.status(500).json({\n                error: \"Erreur serveur\",\n                details: error instanceof Error ? error.message : \"Erreur inconnue\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n// Fonction pour convertir l'enum Sport en string\nfunction getSportFromEnum(sportEnum) {\n    const sportMap = {\n        \"FOOTBALL\": \"football\",\n        \"BASKETBALL\": \"basketball\",\n        \"MMA\": \"mma\",\n        \"RUGBY\": \"rugby\",\n        \"F1\": \"f1\",\n        \"TENNIS\": \"tennis\"\n    };\n    return sportMap[sportEnum] || sportEnum.toLowerCase();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztRQUN2QyxZQUFZO1FBQ1osY0FBYztRQUNkLE9BQU87UUFDUCxTQUFTO1FBQ1QsTUFBTTtRQUNOLFVBQVU7SUFDWjtJQUVBLE9BQU9BLFFBQVEsQ0FBQ0QsVUFBVSxJQUFJQSxVQUFVRSxXQUFXO0FBQ3JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vdHJhdGUvLi9wYWdlcy9hcGkvbWF0Y2hlcy50cz8wNWI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS9tYXRjaGVzLnRzIC0gQVZFQyBQQUdJTkFUSU9OIFBPVVIgTU9CSUxFXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvbmV4dCdcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnLi4vLi4vbGliL2F1dGgnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuLi8uLi9saWIvcHJpc21hJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKHJlcSwgcmVzLCBhdXRoT3B0aW9ucylcblxuICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdDb25uZXhpb24gcmVxdWlzZScgfSlcbiAgfVxuXG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IFxuICAgICAgICB0eXBlID0gJ3JlY2VudCcsIFxuICAgICAgICBzcG9ydCA9ICdhbGwnLCBcbiAgICAgICAgZGF5cyA9ICczNjUnLFxuICAgICAgICBsaW1pdCA9ICcxMCcsIC8vIPCfhpUgREVGQVVMVCDDgCAxMCBQT1VSIE1PQklMRVxuICAgICAgICBwYWdlID0gJzEnLCAgIC8vIPCfhpUgTk9VVkVBVSBQQVJBTcOIVFJFIFBBR0VcbiAgICAgICAgc2VhcmNoLFxuICAgICAgICBjb21wZXRpdGlvbixcbiAgICAgICAgc29ydEJ5ID0gJ2RhdGUnXG4gICAgICB9ID0gcmVxLnF1ZXJ5XG5cbiAgICAgIC8vIPCfhpUgQ0FMQ1VMIFBBR0lOQVRJT05cbiAgICAgIGNvbnN0IGxpbWl0TnVtID0gcGFyc2VJbnQobGltaXQgYXMgc3RyaW5nKVxuICAgICAgY29uc3QgcGFnZU51bSA9IHBhcnNlSW50KHBhZ2UgYXMgc3RyaW5nKVxuICAgICAgY29uc3Qgc2tpcCA9IChwYWdlTnVtIC0gMSkgKiBsaW1pdE51bVxuXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBBUEkgTWF0Y2hlcyAtIEZpbHRyZXMgcmXDp3VzOmAsIHsgXG4gICAgICAgIHR5cGUsIHNwb3J0LCBkYXlzLCBsaW1pdDogbGltaXROdW0sIHBhZ2U6IHBhZ2VOdW0sIHNraXAsIHNlYXJjaCwgY29tcGV0aXRpb24sIHNvcnRCeSBcbiAgICAgIH0pXG5cbiAgICAgIC8vIENvbnN0cnVjdGlvbiBkdSBmaWx0cmUgc3BvcnRcbiAgICAgIGxldCBzcG9ydEZpbHRlciA9IHt9XG4gICAgICBcbiAgICAgIGlmIChzcG9ydCAmJiBzcG9ydCAhPT0gJ2FsbCcpIHtcbiAgICAgICAgY29uc3Qgc3BvcnRNYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICdmb290YmFsbCc6ICdGT09UQkFMTCcsXG4gICAgICAgICAgJ2Jhc2tldGJhbGwnOiAnQkFTS0VUQkFMTCcsXG4gICAgICAgICAgJ21tYSc6ICdNTUEnLFxuICAgICAgICAgICdydWdieSc6ICdSVUdCWScsXG4gICAgICAgICAgJ2YxJzogJ0YxJyxcbiAgICAgICAgICAndGVubmlzJzogJ1RFTk5JUydcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgbWFwcGVkU3BvcnQgPSBzcG9ydE1hcHBpbmdbc3BvcnQgYXMgc3RyaW5nXVxuICAgICAgICBpZiAobWFwcGVkU3BvcnQpIHtcbiAgICAgICAgICBzcG9ydEZpbHRlciA9IHsgc3BvcnQ6IG1hcHBlZFNwb3J0IH1cbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OryBGaWx0cmUgc3BvcnQgYXBwbGlxdcOpOiAke3Nwb3J0fSAtPiAke21hcHBlZFNwb3J0fWApXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ29uc3RydWN0aW9uIGR1IGZpbHRyZSBkZSBiYXNlXG4gICAgICBjb25zdCBiYXNlRmlsdGVyczogYW55ID0ge1xuICAgICAgICBzdGF0dXM6ICdGSU5JU0hFRCcsXG4gICAgICAgIC4uLnNwb3J0RmlsdGVyXG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRyZSBwYXIgZGF0ZVxuICAgICAgaWYgKHR5cGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpXG4gICAgICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApXG4gICAgICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUodG9kYXkpXG4gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSlcbiAgICAgICAgXG4gICAgICAgIGJhc2VGaWx0ZXJzLmRhdGUgPSB7XG4gICAgICAgICAgZ3RlOiB0b2RheSxcbiAgICAgICAgICBsdDogdG9tb3Jyb3dcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGF5c0JhY2sgPSBwYXJzZUludChkYXlzIGFzIHN0cmluZylcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXlzQmFjayA+IDApIHtcbiAgICAgICAgICBjb25zdCBkYXlzQWdvID0gbmV3IERhdGUoKVxuICAgICAgICAgIGRheXNBZ28uc2V0RGF0ZShkYXlzQWdvLmdldERhdGUoKSAtIGRheXNCYWNrKVxuICAgICAgICAgIGJhc2VGaWx0ZXJzLmRhdGUgPSB7XG4gICAgICAgICAgICBndGU6IGRheXNBZ29cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk4UgRmlsdHJlIGRhdGU6IGRlcHVpcyAke2RheXNBZ28udG9Mb2NhbGVEYXRlU3RyaW5nKCl9ICgke2RheXNCYWNrfSBqb3VycylgKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRyZSBwYXIgcmVjaGVyY2hlXG4gICAgICBpZiAoc2VhcmNoICYmIHR5cGVvZiBzZWFyY2ggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGJhc2VGaWx0ZXJzLk9SID0gW1xuICAgICAgICAgIHsgaG9tZVRlYW06IHsgY29udGFpbnM6IHNlYXJjaCwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXG4gICAgICAgICAgeyBhd2F5VGVhbTogeyBjb250YWluczogc2VhcmNoLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSxcbiAgICAgICAgICB7IGNvbXBldGl0aW9uOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9XG4gICAgICAgIF1cbiAgICAgIH1cblxuICAgICAgLy8gRmlsdHJlIHBhciBjb21ww6l0aXRpb25cbiAgICAgIGlmIChjb21wZXRpdGlvbiAmJiBjb21wZXRpdGlvbiAhPT0gJ2FsbCcpIHtcbiAgICAgICAgYmFzZUZpbHRlcnMuY29tcGV0aXRpb24gPSBjb21wZXRpdGlvblxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBGaWx0cmVzIFByaXNtYSBhcHBsaXF1w6lzOmAsIEpTT04uc3RyaW5naWZ5KGJhc2VGaWx0ZXJzLCBudWxsLCAyKSlcblxuICAgICAgLy8g8J+GlSBDT05GSUdVUkFUSU9OIERVIFRSSVxuICAgICAgbGV0IG9yZGVyQnk6IGFueSA9IHsgZGF0ZTogJ2Rlc2MnIH0gLy8gUGFyIGTDqWZhdXQgOiBwYXIgZGF0ZVxuICAgICAgXG4gICAgICBpZiAoc29ydEJ5ID09PSAncG9wdWxhcml0eScpIHtcbiAgICAgICAgb3JkZXJCeSA9IFtcbiAgICAgICAgICB7IHRvdGFsUmF0aW5nczogJ2Rlc2MnIH0sXG4gICAgICAgICAgeyBhdmdSYXRpbmc6ICdkZXNjJyB9LFxuICAgICAgICAgIHsgZGF0ZTogJ2Rlc2MnIH1cbiAgICAgICAgXVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBUcmkgcGFyIHBvcHVsYXJpdMOpIGFjdGl2w6lgKVxuICAgICAgfSBlbHNlIGlmIChzb3J0QnkgPT09ICdyYXRpbmcnKSB7XG4gICAgICAgIG9yZGVyQnkgPSBbXG4gICAgICAgICAgeyBhdmdSYXRpbmc6ICdkZXNjJyB9LFxuICAgICAgICAgIHsgdG90YWxSYXRpbmdzOiAnZGVzYycgfSxcbiAgICAgICAgICB7IGRhdGU6ICdkZXNjJyB9XG4gICAgICAgIF1cbiAgICAgICAgY29uc29sZS5sb2coYOKtkCBUcmkgcGFyIG5vdGUgbW95ZW5uZSBhY3RpdsOpYClcbiAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09PSAnZGF0ZScpIHtcbiAgICAgICAgb3JkZXJCeSA9IHsgZGF0ZTogJ2Rlc2MnIH1cbiAgICAgICAgY29uc29sZS5sb2coYPCfk4UgVHJpIHBhciBkYXRlIGFjdGl2w6lgKVxuICAgICAgfVxuXG4gICAgICAvLyDwn4aVIFJFUVXDilRFIFBSSU5DSVBBTEUgQVZFQyBQQUdJTkFUSU9OXG4gICAgICBjb25zdCBtYXRjaGVzID0gYXdhaXQgcHJpc21hLm1hdGNoLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IGJhc2VGaWx0ZXJzLFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgcmF0aW5nczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7IGlkOiB0cnVlLCBuYW1lOiB0cnVlLCB1c2VybmFtZTogdHJ1ZSB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9yZGVyQnksXG4gICAgICAgIHNraXA6IHNraXAsICAgICAgICAvLyDwn4aVIFNLSVAgUE9VUiBQQUdJTkFUSU9OXG4gICAgICAgIHRha2U6IGxpbWl0TnVtICAgICAvLyDwn4aVIFRBS0UgUE9VUiBMSU1JVFxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYOKchSAke21hdGNoZXMubGVuZ3RofSBtYXRjaHMgdHJvdXbDqXMgKHBhZ2UgJHtwYWdlTnVtfSwgc2tpcCAke3NraXB9KSBhdmVjIHRyaTogJHtzb3J0Qnl9YClcblxuICAgICAgLy8g8J+GlSBDT01QVEVSIExFIFRPVEFMIFBPVVIgU0FWT0lSIFMnSUwgWSBBIFBMVVMgREUgUsOJU1VMVEFUU1xuICAgICAgY29uc3QgdG90YWxNYXRjaGVzID0gYXdhaXQgcHJpc21hLm1hdGNoLmNvdW50KHtcbiAgICAgICAgd2hlcmU6IGJhc2VGaWx0ZXJzXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBoYXNNb3JlID0gc2tpcCArIG1hdGNoZXMubGVuZ3RoIDwgdG90YWxNYXRjaGVzXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiiBUb3RhbDogJHt0b3RhbE1hdGNoZXN9LCBSw6ljdXDDqXLDqXM6ICR7bWF0Y2hlcy5sZW5ndGh9LCBIYXNNb3JlOiAke2hhc01vcmV9YClcblxuICAgICAgLy8gRGVidWc6IEFmZmljaGVyIGxlcyB0b3AgbWF0Y2hzIHNlbG9uIGxlIHRyaSBjaG9pc2lcbiAgICAgIGlmIChzb3J0QnkgPT09ICdwb3B1bGFyaXR5JyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgdG9wMyA9IG1hdGNoZXMuc2xpY2UoMCwgMykubWFwKG0gPT4gKHtcbiAgICAgICAgICB0ZWFtczogYCR7bS5ob21lVGVhbX0gdnMgJHttLmF3YXlUZWFtfWAsXG4gICAgICAgICAgdG90YWxSYXRpbmdzOiBtLnRvdGFsUmF0aW5ncyxcbiAgICAgICAgICBhdmdSYXRpbmc6IG0uYXZnUmF0aW5nLnRvRml4ZWQoMSlcbiAgICAgICAgfSkpXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn4+GIFRvcCAzIHBhZ2UgJHtwYWdlTnVtfSBwYXIgcG9wdWxhcml0w6k6YCwgdG9wMylcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVyc2lvbiBkZXMgbWF0Y2hzXG4gICAgICBjb25zdCBmb3JtYXR0ZWRNYXRjaGVzID0gbWF0Y2hlcy5tYXAobWF0Y2ggPT4gKHtcbiAgICAgICAgaWQ6IG1hdGNoLmlkLFxuICAgICAgICBhcGlJZDogbWF0Y2guYXBpTWF0Y2hJZCxcbiAgICAgICAgc3BvcnQ6IGdldFNwb3J0RnJvbUVudW0obWF0Y2guc3BvcnQpLFxuICAgICAgICBob21lVGVhbTogbWF0Y2guaG9tZVRlYW0sXG4gICAgICAgIGF3YXlUZWFtOiBtYXRjaC5hd2F5VGVhbSxcbiAgICAgICAgaG9tZVNjb3JlOiBtYXRjaC5ob21lU2NvcmUsXG4gICAgICAgIGF3YXlTY29yZTogbWF0Y2guYXdheVNjb3JlLFxuICAgICAgICBkYXRlOiBtYXRjaC5kYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHN0YXR1czogbWF0Y2guc3RhdHVzLFxuICAgICAgICBjb21wZXRpdGlvbjogbWF0Y2guY29tcGV0aXRpb24sXG4gICAgICAgIHZlbnVlOiBtYXRjaC52ZW51ZSxcbiAgICAgICAgYXZnUmF0aW5nOiBtYXRjaC5hdmdSYXRpbmcsXG4gICAgICAgIHRvdGFsUmF0aW5nczogbWF0Y2gudG90YWxSYXRpbmdzLFxuICAgICAgICBob21lVGVhbUxvZ286IG1hdGNoLmhvbWVUZWFtTG9nbyxcbiAgICAgICAgYXdheVRlYW1Mb2dvOiBtYXRjaC5hd2F5VGVhbUxvZ28sXG4gICAgICAgIGNhblJhdGU6IHRydWUsXG4gICAgICAgIHJhdGluZ3M6IG1hdGNoLnJhdGluZ3MsXG4gICAgICAgIGRldGFpbHM6IG1hdGNoLmRldGFpbHNcbiAgICAgIH0pKVxuXG4gICAgICAvLyDwn4aVIFNUQVRTIFNFVUxFTUVOVCBQT1VSIExBIFBSRU1Jw4hSRSBQQUdFIChPUFRJTUlTQVRJT04pXG4gICAgICBsZXQgc3RhdHMgPSBudWxsXG4gICAgICBpZiAocGFnZU51bSA9PT0gMSkge1xuICAgICAgICBjb25zdCBieVNwb3J0U3RhdHMgPSBhd2FpdCBwcmlzbWEubWF0Y2guZ3JvdXBCeSh7XG4gICAgICAgICAgYnk6IFsnc3BvcnQnXSxcbiAgICAgICAgICB3aGVyZTogeyBzdGF0dXM6ICdGSU5JU0hFRCcgfSxcbiAgICAgICAgICBfY291bnQ6IHsgc3BvcnQ6IHRydWUgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGJ5Q29tcGV0aXRpb25TdGF0cyA9IGF3YWl0IHByaXNtYS5tYXRjaC5ncm91cEJ5KHtcbiAgICAgICAgICBieTogWydjb21wZXRpdGlvbicsICdzcG9ydCddLFxuICAgICAgICAgIHdoZXJlOiB7IHN0YXR1czogJ0ZJTklTSEVEJyB9LFxuICAgICAgICAgIF9jb3VudDogeyBjb21wZXRpdGlvbjogdHJ1ZSB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQ29udmVydGlyIGxlcyBzdGF0cyBkZXMgc3BvcnRzXG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZFNwb3J0U3RhdHMgPSBieVNwb3J0U3RhdHMubWFwKHN0YXQgPT4gKHtcbiAgICAgICAgICBzcG9ydDogZ2V0U3BvcnRGcm9tRW51bShzdGF0LnNwb3J0KSxcbiAgICAgICAgICBjb3VudDogc3RhdC5fY291bnQuc3BvcnRcbiAgICAgICAgfSkpXG5cbiAgICAgICAgY29uc3QgbGltaXRlZENvbXBldGl0aW9uU3RhdHMgPSBieUNvbXBldGl0aW9uU3RhdHNcbiAgICAgICAgICAuc2xpY2UoMCwgNTApXG4gICAgICAgICAgLm1hcChzdGF0ID0+ICh7XG4gICAgICAgICAgICBjb21wZXRpdGlvbjogc3RhdC5jb21wZXRpdGlvbixcbiAgICAgICAgICAgIHNwb3J0OiBnZXRTcG9ydEZyb21FbnVtKHN0YXQuc3BvcnQpLFxuICAgICAgICAgICAgY291bnQ6IHN0YXQuX2NvdW50LmNvbXBldGl0aW9uXG4gICAgICAgICAgfSkpXG5cbiAgICAgICAgc3RhdHMgPSB7XG4gICAgICAgICAgdG90YWw6IHRvdGFsTWF0Y2hlcyxcbiAgICAgICAgICBieVNwb3J0OiBjb252ZXJ0ZWRTcG9ydFN0YXRzLFxuICAgICAgICAgIGJ5Q29tcGV0aXRpb246IGxpbWl0ZWRDb21wZXRpdGlvblN0YXRzXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8g8J+GlSBSw4lQT05TRSBBVkVDIFBBR0lOQVRJT05cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWF0Y2hlczogZm9ybWF0dGVkTWF0Y2hlcyxcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlTnVtLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbCh0b3RhbE1hdGNoZXMgLyBsaW1pdE51bSksXG4gICAgICAgICAgdG90YWxJdGVtczogdG90YWxNYXRjaGVzLFxuICAgICAgICAgIGl0ZW1zUGVyUGFnZTogbGltaXROdW0sXG4gICAgICAgICAgaGFzTW9yZTogaGFzTW9yZSxcbiAgICAgICAgICBoYXNOZXh0OiBoYXNNb3JlLFxuICAgICAgICAgIGhhc1ByZXZpb3VzOiBwYWdlTnVtID4gMVxuICAgICAgICB9LFxuICAgICAgICBzdGF0czogc3RhdHMsIC8vIE51bGwgcG91ciBsZXMgcGFnZXMgPiAxXG4gICAgICAgIHNvcnRCeTogc29ydEJ5XG4gICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgQVBJIG1hdGNoZXM6JywgZXJyb3IpXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgICBlcnJvcjogJ0VycmV1ciBzZXJ2ZXVyJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyZXVyIGluY29ubnVlJ1xuICAgICAgfSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCddKVxuICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYClcbiAgfVxufVxuXG4vLyBGb25jdGlvbiBwb3VyIGNvbnZlcnRpciBsJ2VudW0gU3BvcnQgZW4gc3RyaW5nXG5mdW5jdGlvbiBnZXRTcG9ydEZyb21FbnVtKHNwb3J0RW51bTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc3BvcnRNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgJ0ZPT1RCQUxMJzogJ2Zvb3RiYWxsJyxcbiAgICAnQkFTS0VUQkFMTCc6ICdiYXNrZXRiYWxsJywgXG4gICAgJ01NQSc6ICdtbWEnLFxuICAgICdSVUdCWSc6ICdydWdieScsXG4gICAgJ0YxJzogJ2YxJyxcbiAgICAnVEVOTklTJzogJ3Rlbm5pcydcbiAgfVxuICBcbiAgcmV0dXJuIHNwb3J0TWFwW3Nwb3J0RW51bV0gfHwgc3BvcnRFbnVtLnRvTG93ZXJDYXNlKClcbn0iXSwibmFtZXMiOlsiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwicHJpc21hIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNlc3Npb24iLCJ1c2VyIiwiaWQiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXRob2QiLCJ0eXBlIiwic3BvcnQiLCJkYXlzIiwibGltaXQiLCJwYWdlIiwic2VhcmNoIiwiY29tcGV0aXRpb24iLCJzb3J0QnkiLCJxdWVyeSIsImxpbWl0TnVtIiwicGFyc2VJbnQiLCJwYWdlTnVtIiwic2tpcCIsImNvbnNvbGUiLCJsb2ciLCJzcG9ydEZpbHRlciIsInNwb3J0TWFwcGluZyIsIm1hcHBlZFNwb3J0IiwiYmFzZUZpbHRlcnMiLCJ0b2RheSIsIkRhdGUiLCJzZXRIb3VycyIsInRvbW9ycm93Iiwic2V0RGF0ZSIsImdldERhdGUiLCJkYXRlIiwiZ3RlIiwibHQiLCJkYXlzQmFjayIsImRheXNBZ28iLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJPUiIsImhvbWVUZWFtIiwiY29udGFpbnMiLCJtb2RlIiwiYXdheVRlYW0iLCJKU09OIiwic3RyaW5naWZ5Iiwib3JkZXJCeSIsInRvdGFsUmF0aW5ncyIsImF2Z1JhdGluZyIsIm1hdGNoZXMiLCJtYXRjaCIsImZpbmRNYW55Iiwid2hlcmUiLCJpbmNsdWRlIiwicmF0aW5ncyIsInNlbGVjdCIsIm5hbWUiLCJ1c2VybmFtZSIsInRha2UiLCJsZW5ndGgiLCJ0b3RhbE1hdGNoZXMiLCJjb3VudCIsImhhc01vcmUiLCJ0b3AzIiwic2xpY2UiLCJtYXAiLCJtIiwidGVhbXMiLCJ0b0ZpeGVkIiwiZm9ybWF0dGVkTWF0Y2hlcyIsImFwaUlkIiwiYXBpTWF0Y2hJZCIsImdldFNwb3J0RnJvbUVudW0iLCJob21lU2NvcmUiLCJhd2F5U2NvcmUiLCJ0b0lTT1N0cmluZyIsInZlbnVlIiwiaG9tZVRlYW1Mb2dvIiwiYXdheVRlYW1Mb2dvIiwiY2FuUmF0ZSIsImRldGFpbHMiLCJzdGF0cyIsImJ5U3BvcnRTdGF0cyIsImdyb3VwQnkiLCJieSIsIl9jb3VudCIsImJ5Q29tcGV0aXRpb25TdGF0cyIsImNvbnZlcnRlZFNwb3J0U3RhdHMiLCJzdGF0IiwibGltaXRlZENvbXBldGl0aW9uU3RhdHMiLCJ0b3RhbCIsImJ5U3BvcnQiLCJieUNvbXBldGl0aW9uIiwicGFnaW5hdGlvbiIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwidG90YWxJdGVtcyIsIml0ZW1zUGVyUGFnZSIsImhhc05leHQiLCJoYXNQcmV2aW91cyIsIkVycm9yIiwibWVzc2FnZSIsInNldEhlYWRlciIsImVuZCIsInNwb3J0RW51bSIsInNwb3J0TWFwIiwidG9Mb3dlckNhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/matches.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();